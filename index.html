<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!--Description-->
  
  <meta name="description" content="ほげほげほげほげ">
  

  <!--Author-->
  
  <meta name="author" content="SHIRIN KOU">
  

  <!--Open Graph Title-->
  
  <meta property="og:title" content="Home">
  
  <!--Open Graph Description-->
  
  <meta property="og:description" content="ほげほげほげほげ">
  
  <!--Open Graph Site Name-->
  <meta property="og:site_name" content="Myakushin">
  <!--Type page-->
  
  <meta property="og:type" content="article">
  
  <!--Page Cover-->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- Title -->
  
  <title>Home - Myakushin</title>


  <link rel="shortcut icon" href="https://hexo.io/icon/favicon-96x96.png">
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css">
  <!-- Custom CSS/Sass -->
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>

  <!-- Nav -->
  <!-- <header class="site-header">
  <div class="header-inside">

    Navigation
    <nav class="navbar">
      <ul>
        <li>
          <a href=/goal/,/habit/,/login/><img src=></a>
        </li>
        <li class="navbar_title">
          <h1>Home</h1>
        </li>
        <li class="navbar_title_2">
          <h1 id="state"></h1>
        </li>
      </ul>
    </nav>

  </div>
</header> -->

<!-- <script>
  // ＊sideBar animation
  $(function () {
    var duration = 300;

    //aside
    var $aside = $('.page-main > aside');
    var $asidButton = $aside.find('button').on('click', function () {
      $aside.toggleClass('open');
      if ($aside.hasClass('open')) {
        $aside.stop(true).animate({
          left: '-70px'
        }, duration, 'easeOutBack');
        $asidButton.find('img')
          .attr('src', '');
      } else {
        $aside.stop(true).animate({
          left: '-350px'
        }, duration, 'easeInBack');
        $asidButton.find('img')
          .attr('src', '/images/open.png');
      };
    });
  });

</script> -->

  <!-- Main Content layoutで指定したejsが表示される部分 -->
  <!-- change/firebase -->


<!-- HTML -->
<div class="content-area">
  <div class="content-area-home">
    <div>
      <h1>今日の波形</h1>
      <img src="/images/wave.png" alt height="150">
      <p>波形の特徴（ex.脈の拍動がいつもより大きくなっています）</p>
      <p>測定時間</p>
    </div>
  </div>

  <div class="content-area-home-2">
    <div class="checkbox01">
      <h1>このような状態ではありませんか？該当する状態にチェックを入れてください。</h1>
      <label>
        <input type="checkbox" name="checkbox01[]" class="checkbox01-input" value="質問１（ex.早食い、食べ物をよく噛まずに飲み込んでいませんか？）">
        <div class="checkbox01-parts">質問１（ex.早食い、食べ物をよく噛まずに飲み込んでいませんか？）</div>
      </label>
      <label>
        <input type="checkbox" name="checkbox01[]" class="checkbox01-input" value="質問２（ex.夜遅くに油っこい食事を摂っていませんか？）">
        <div class="checkbox01-parts">質問２（ex.夜遅くに油っこい食事を摂っていませんか？）</div>
      </label>
      <label>
        <input type="checkbox" name="checkbox01[]" class="checkbox01-input" value="質問３（ex.休憩を取らずに、長時間仕事をしてしまいがちではありませんか？）">
        <div class="checkbox01-parts">質問３（ex.休憩を取らずに、長時間仕事をしてしまいがちではありませんか？）</div>
      </label>
    </div>
    <div class="adviceButton">
      <a href="/advice/"><input class="adviceButton-inside" type="button" value="Adviceを見る"></a>
    </div>
  </div>

  <div class="page-main">
    <aside>
      <ul>
        <li>
          <img id="img" src alt height="100px">
        </li>
        <li>
          <p id="googleDisplayName"></p>
        </li>
        <li>
          <a href="/goal/">Goal</a>
        </li>
        <li>
          <a href="/habit/">Habit</a>
        </li>
        <li>
          <a href="/login/"><input id="logoutButton" class="logoutButton" type="button" value="Log-out" onclick="signOut()"></a>
        </li>
      </ul>
      <button><img src="alt="""></button>
    </aside>
  </div>

</div>

  <!-- Footer -->
  <!-- Footer -->
<footer class="site-info">

</footer>

<script src="https://code.jquery.com/jquery-3.4.0.min.js" integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js" integrity="sha256-H3cjtrm/ztDeuhCN9I4yh4iN2Ybx/y1RM7rMmAesA0k=" crossorigin="anonymous"></script>
<script src="https://www.gstatic.com/firebasejs/5.10.0/firebase.js"></script>
<script>
  // Firebaseの初期化
  var config = {
    apiKey: "AIzaSyCBJVggpI5YAKFnZNDfDhivNg5-DMUb3Uw",
    authDomain: "myakushin.firebaseapp.com",
    databaseURL: "https://myakushin.firebaseio.com",
    projectId: "myakushin",
    storageBucket: "myakushin.appspot.com",
    messagingSenderId: "537042555866"
  };
  firebase.initializeApp(config);
</script>

<script>
  var user = firebase.auth().currentUser;
  var name, email, photoUrl, uid, emailVerified;

  if (user != null) {
    name = user.displayName;
    email = user.email;
    photoUrl = user.photoURL;
    emailVerified = user.emailVerified;
    uid = user.uid;
  };

  // ログイン確認
  firebase.auth().onAuthStateChanged(function (user) {
    if (user) {
      // ログイン認証済
      console.log('auth user', user);
      document.getElementById('googleDisplayName').innerText = user.displayName;
      document.getElementById('img').src = user.photoURL;

      firebase.firestore().collection('user').doc(`${user.uid}`)
        .set({
          uid: user.uid,
          name,
        }, { merge: true })

    } else {
      // No user is signed in.
      // location.href = '/login/'
      document.getElementById('state').innerText = 'ログインされていません';
    }
  });

  // ログアウト
  function signOut() {
    firebase.auth().signOut().then(function () {
      alert('ログアウトしました');
    }).catch(function (error) {
      console.log(error);
      document.getElementById('log').innerText = 'ログアウト失敗';
    });
  }
</script>









<script>
  //＊user毎にコレクション作成
  // const onSuccess = (user) => {

  //   firebase.firestore().collection('user').doc(`${user.uid}`)
  //     .set({
  //       uid: user.uid,
  //       name,
  //     })

  //   user.updateProfile({ displayName: name });

  //   console.log('userName', user);

  //   firebase.analytics().logEvent('sign_up', {
  //     sign_up_method: 'google',

  //   });
  // };

  // ＊sideBar animation
  $(function () {
    var duration = 500;

    //aside
    var $aside = $('.page-main > aside');
    var $asidButton = $aside.find('button').on('mouseover', function () {
      $aside.toggleClass('open');
      if ($aside.hasClass('open')) {
        $aside.stop(true).animate({
          left: '-70px'
        }, duration, 'easeOutBack');
        $asidButton.find('img')
          .attr('src', '/images/close.png');
      } else {
        $aside.stop(true).animate({
          left: '-500px'
        }, duration, 'easeInBack');
        $asidButton.find('img')
          .attr('src', '/images/open.png');
      };
    });
  });

</script>


</body>

</html>